(() => {

const exports = {};
const module = {exports};

var parcelRequire = function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"YBDT":[function(require,module,exports) {
function n(n){return r(n)||e(n)||t()}function t(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function e(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}function r(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}function i(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function o(n){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var u=function(){},l=function(n,t){if(!n)throw new Error(t)},a=function(n){return n&&"object"===o(n)&&!Array.isArray(n)},c=function(n,t){return o(n)===o(t)?n>t:"string"==typeof n&&"number"==typeof t},s=function(n,t){for(var e in n)t.write(e,n[e])};function f(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=[],u=[],h=-1,g=e,p=-1,v=function(){l(r.length===u.length/2),0===p?r.length?(h=u.pop(),g=r.pop(),p=u.pop()):(h=0,p=-1):(l(p>0),a(g[--p])&&p--)},y=function(){for(var n=[],t=g,e=r.length-1,i=p;i>=0;)n.unshift(t[i]),0===i?(i=u[2*e],t=r[e--]):i-=a(t[i-1])?2:1;return n};return{read:function(){var n;return i(n={ascend:v,getPath:y,get:function(){return g?g.slice(p+1):null},getKey:function(){return g[p]},getComponent:function(){var n;return g&&g.length>p+1&&a(n=g[p+1])?n:null},descendFirst:function(){var n=p+1;if(!g||n>=g.length||a(g[n])&&n+1>=g.length)return!1;a(g[n])&&n++;var t=g[n];return Array.isArray(t)?(u.push(p),r.push(g),u.push(n),p=0,g=t):p=n,!0},nextSibling:function(){if(l(r.length===u.length/2),p>0||0===r.length)return!1;var n=u[u.length-1]+1,t=r[r.length-1];return!(n>=t.length)&&(l(!isNaN(n)),u[u.length-1]=n,g=t[n],!0)},_init:function(n,t,e,i){g=n,p=t,r=e.slice(),u=i.slice()},clone:function(){var n=f(null).read();return n._init(g,p,r,u),n}},Symbol.iterator,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.descendFirst()){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,this.getKey();case 4:if(this.nextSibling()){n.next=2;break}case 5:v();case 6:case"end":return n.stop()}},n,this)})),i(n,"traverse",function(n,t){var e=this.getComponent();e&&t(e,n);var r=!0,i=!1,o=void 0;try{for(var u,l=this[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var a=u.value;n&&n.descend(a),this.traverse(n,t),n&&n.ascend()}}catch(c){i=!0,o=c}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}}),i(n,"eachPick",function(n,t){this.traverse(n,function(n,e){null!=n.p&&t(n.p,e)})}),i(n,"eachDrop",function(n,t){this.traverse(n,function(n,e){null!=n.d&&t(n.d,e)})}),n},write:function(){return t=[],{reset:function(){h=-1},getComponent:function(){!function(){l(r.length===u.length/2),null===g&&(e=g=[]);for(var n=0;n<t.length;n++){var i=t[n],o=p+1;if(o<g.length&&a(g[o])&&o++,l(o===g.length||!a(g[o])),o===g.length)g.push(i),p=o;else if(g[o]===i)p=o;else{if(!Array.isArray(g[o])){var s=g.splice(o,g.length-o);g.push(s),h>-1&&(h=o)}for(u.push(p),r.push(g),-1!==h&&(l(c(i,g[h][0])),o=h+1,h=-1);o<g.length&&c(i,g[o][0]);)o++;if(u.push(o),p=0,o<g.length&&g[o][0]===i)g=g[o];else{var f=[i];g.splice(o,0,f),g=f}}}t.length=0}();var n=p+1;if(n<g.length&&a(g[n]))return g[n];var i={};return g.splice(n,0,i),i},write:function(n,t){var e=this.getComponent();l(null==e[n]||e[n]===t,"Internal consistency error: Overwritten component. File a bug"),e[n]=t},get:function(){return e},descend:function(n){t.push(n)},descendPath:function(e){var r;return(r=t).push.apply(r,n(e)),this},ascend:function(){t.length?t.pop():v()},mergeTree:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;if(null!==n){if(l(Array.isArray(n)),n===e)throw Error("Cannot merge into my own tree");for(var i=h,u=r.length,a=0,c=0;c<n.length;c++){var f=n[c];"string"==typeof f||"number"==typeof f?(a++,this.descend(f)):Array.isArray(f)?this.mergeTree(f,t):"object"===o(f)&&t(f,this)}for(;a--;)this.ascend();h=r.length===u?i:-1}},at:function(n,t){this.descendPath(n),t(this);for(var e=0;e<n.length;e++)this.ascend();return this},writeAtPath:function(n,t,e){var r=this;return this.at(n,function(){return r.write(t,e)}),this.reset(),this},writeMove:function(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.writeAtPath(n,"p",e).writeAtPath(t,"d",e)},getPath:function(){var e=y();return e.push.apply(e,n(t)),e}}}}}var h=exports.writeCursor=function(){return f().write()},g=exports.readCursor=function(n){return f(n).read()};exports.advancer=function(n,t,e){var r,i;function o(r){for(var o;i;){var u=o=n.getKey();if(null!=r){var l=!1;if(t&&"number"==typeof u&&(o=t(u,n.getComponent()))<0&&(o=~o,l=!0),c(o,r))return;if(o===r&&!l)return n}e&&"number"==typeof u&&e(o,n.getComponent()),i=n.nextSibling()}}return i=r=n&&n.descendFirst(),o.end=function(){r&&n.ascend()},o},exports.eachChildOf=function(n,t,e){var r,i,o,u;for(r=i=n&&n.descendFirst(),o=u=t&&t.descendFirst();r||o;){var l=r?n.getKey():null,a=o?t.getKey():null;null!==l&&null!==a&&(c(a,l)?a=null:l!==a&&(l=null)),e(null==l?a:l,null!=l?n:null,null!=a?t:null),null!=l&&r&&(r=n.nextSibling()),null!=a&&o&&(o=t.nextSibling())}i&&n.ascend(),u&&t.ascend()};
},{}],"eFk/":[function(require,module,exports) {
function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(t)}function t(r,t){if(Array.isArray(t))return!1;for(var n in r)if(!o(r[n],t[n]))return!1;for(var e in t)if(void 0===r[e])return!1;return!0}function n(r,t){if(!Array.isArray(t))return!1;if(r.length!==t.length)return!1;for(var n=0;n<r.length;n++)if(!o(r[n],t[n]))return!1;return!0}function o(o,e){return o===e||null!==o&&null!==e&&("object"===r(o)&&"object"===r(e)&&(Array.isArray(o)?n(o,e):t(o,e)))}module.exports=o;
},{}],"TNQL":[function(require,module,exports) {
function o(r){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}function r(t){if(null===t)return null;if(Array.isArray(t))return t.map(r);if("object"===o(t)){var n={};for(var e in t)n[e]=r(t[e]);return n}return t}module.exports=r;
},{}],"bU8t":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.strPosToUni=((e,r=e.length)=>{let t=0,o=0;for(;o<r;o++){e.charCodeAt(o)>=55296&&(t++,o++)}if(o!==r)throw Error("Invalid offset - splits unicode bytes");return o-t}),exports.uniToStrPos=((e,r)=>{let t=0;for(;r>0;r--){t+=e.charCodeAt(t)>=55296?2:1}return t});
},{}],"L7F6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("unicount"),t=e=>{if(!Array.isArray(e))throw Error("Op must be an array of components");let t=null;for(let r=0;r<e.length;r++){const o=e[r];switch(typeof o){case"object":if(!("number"==typeof o.d&&o.d>0))throw Error("Object components must be deletes of size > 0");break;case"string":if(!(o.length>0))throw Error("Inserts cannot be empty");break;case"number":if(!(o>0))throw Error("Skip components must be >0");if("number"==typeof t)throw Error("Adjacent skip components should be combined")}t=o}if("number"==typeof t)throw Error("Op has a trailing skip")},r=e=>{const t=[],r=n(t);for(let o=0;o<e.length;o++)r(e[o]);return c(t)},o=e=>{if("number"!=typeof e&&("number"!=typeof e[0]||"number"!=typeof e[1]))throw Error("Invalid selection")},n=e=>t=>{t&&0!==t.d&&(0===e.length?e.push(t):typeof t==typeof e[e.length-1]?"object"==typeof t?e[e.length-1].d+=t.d:e[e.length-1]+=t:e.push(t))},s=t=>"number"==typeof t?t:"string"==typeof t?e.strPosToUni(t):t.d,i=t=>{let r=0,o=0;return{take:(n,s)=>{if(r===t.length)return-1===n?null:n;const i=t[r];let c;if("number"==typeof i)return-1===n||i-o<=n?(c=i-o,++r,o=0,c):(o+=n,n);if("string"==typeof i){if(-1===n||"i"===s||e.strPosToUni(i.slice(o))<=n)return c=i.slice(o),++r,o=0,c;{const t=o+e.uniToStrPos(i.slice(o),n);return c=i.slice(o,t),o=t,c}}return-1===n||"d"===s||i.d-o<=n?(c={d:i.d-o},++r,o=0,c):(o+=n,{d:n})},peek:()=>t[r]}},c=e=>(e.length>0&&"number"==typeof e[e.length-1]&&e.pop(),e);function a(r,o,a){if("left"!==a&&"right"!==a)throw Error("side ("+a+") must be 'left' or 'right'");t(r),t(o);const f=[],u=n(f),{take:p,peek:l}=i(r);for(let t=0;t<o.length;t++){const r=o[t];let n,i;switch(typeof r){case"number":for(n=r;n>0;)u(i=p(n,"i")),"string"!=typeof i&&(n-=s(i));break;case"string":"left"===a&&"string"==typeof l()&&u(p(-1)),u(e.strPosToUni(r));break;case"object":for(n=r.d;n>0;)switch(typeof(i=p(n,"i"))){case"number":n-=i;break;case"string":u(i);break;case"object":n-=i.d}}}let b;for(;b=p(-1);)u(b);return c(f)}function f(r,o){t(r),t(o);const a=[],f=n(a),{take:u}=i(r);for(let t=0;t<o.length;t++){const r=o[t];let n,i;switch(typeof r){case"number":for(n=r;n>0;)f(i=u(n,"d")),"object"!=typeof i&&(n-=s(i));break;case"string":f(r);break;case"object":for(n=r.d;n>0;)switch(typeof(i=u(n,"d"))){case"number":f({d:i}),n-=i;break;case"string":n-=e.strPosToUni(i);break;case"object":f(i)}}}let p;for(;p=u(-1);)f(p);return c(a)}const u=(t,r)=>{let o=0;for(let n=0;n<r.length&&t>o;n++){const s=r[n];switch(typeof s){case"number":o+=s;break;case"string":const r=e.strPosToUni(s);o+=r,t+=r;break;case"object":t-=Math.min(s.d,t-o)}}return t},p=(e,t)=>"number"==typeof e?u(e,t):e.map(e=>u(e,t));function l(e){return{name:"text-unicode",uri:"http://sharejs.org/types/text-unicode",trim:c,normalize:r,checkOp:t,create(t=""){if("string"!=typeof t)throw Error("Initial data must be a string");return e.create(t)},apply(r,o){t(o);const n=e.builder(r);for(let e=0;e<o.length;e++){const t=o[e];switch(typeof t){case"number":n.skip(t);break;case"string":n.append(t);break;case"object":n.del(t.d)}}return n.build()},transform:a,compose:f,transformPosition:u,transformSelection:p}}exports.default=l;
},{"unicount":"bU8t"}],"caPj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("unicount");function t(t,n){return{get:t,getLength:()=>t().length,insert(o,r,s){const i=e.strPosToUni(t(),o);return n([i,r],s)},remove(o,r,s){const i=e.strPosToUni(t(),o);return n([i,{d:r}],s)},_onOp(e){for(var t=0,n=0;n<e.length;n++){var o=e[n];switch(typeof o){case"number":t+=o,o;break;case"string":this.onInsert&&this.onInsert(t,o),t+=o.length;break;case"object":this.onRemove&&this.onRemove(t,o.d),o.d}}},onInsert:null,onRemove:null}}exports.default=t,t.provides={text:!0};
},{"unicount":"bU8t"}],"IMP5":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const t=require("unicount"),r=e(require("./maketext")),i=e(require("./api")),o={create:e=>e,toString:e=>e,builder(e){if("string"!=typeof e)throw Error("Invalid document snapshot: "+e);const r=[];return{skip(i){let o=t.uniToStrPos(e,i);if(o>e.length)throw Error("The op is too long for this document");r.push(e.slice(0,o)),e=e.slice(o)},append(e){r.push(e)},del(r){e=e.slice(t.uniToStrPos(e,r))},build:()=>r.join("")+e}}},s=r.default(o),u=Object.assign({},s,{api:i.default});exports.type=u;var n=require("./maketext");exports.makeType=n.default;
},{"unicount":"bU8t","./maketext":"L7F6","./api":"caPj"}],"iIAs":[function(require,module,exports) {
function n(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,t)}return r}function e(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(o,!0).forEach(function(n){r(e,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(o).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))})}return e}function r(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function t(n,e){return i(n)||l(n,e)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function l(n,e){var r=[],t=!0,o=!1,l=void 0;try{for(var i,u=n[Symbol.iterator]();!(t=(i=u.next()).done)&&(r.push(i.value),!e||r.length!==e);t=!0);}catch(a){o=!0,l=a}finally{try{t||null==u.return||u.return()}finally{if(o)throw l}}return r}function i(n){if(Array.isArray(n))return n}function u(n){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var a=!0,f=function(){},c=require("./cursor"),v=c.readCursor,s=c.writeCursor,p=c.advancer,d=c.eachChildOf,y=require("./deepEqual"),g=require("./deepClone"),m=function(n,e){if(!n)throw new Error(e)},h=!1,b=exports.type={name:"json1",uri:"http://sharejs.org/types/JSONv1",readCursor:v,writeCursor:s,create:function(n){return n},setDebug:function(n){h=n,f.quiet=!n}},w=function(n){return n?n.getComponent():null},P=function(n){return n&&"object"==u(n)&&!Array.isArray(n)},O=function(n){return Array.isArray(n)?n.slice():null!==n&&"object"==u(n)?Object.assign({},n):n},k=function(n){return n&&(null!=n.p||void 0!==n.r)},C=function(n){return n&&(null!=n.d||void 0!==n.i)},A=exports.removeOp=function(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return s().writeAtPath(n,"r",e).get()},j=exports.moveOp=function(n,e){return s().writeMove(n,e).get()},S=exports.insertOp=function(n,e){return s().writeAtPath(n,"i",e).get()},E=exports.replaceOp=function(n,e,r){return s().at(n,function(n){n.write("r",e),n.write("i",r)}).get()},x=exports.editOp=function(n,e,r){return s().at(n,function(n){return L(n,e,r)}).get()};function T(n,e){return m(null!=n),"number"==typeof e?(m(Array.isArray(n)),(n=n.slice()).splice(e,1)):(m(P(n)),delete(n=Object.assign({},n))[e]),n}function D(n,e,r){return"number"==typeof e?(m(Array.isArray(n),"Cannot use numerical key for object container"),n.splice(e,0,r)):(m(P(n),"Cannot insert into missing item"),m(void 0===n[e],"Trying to overwrite value at key. Your op needs to remove it first"),n[e]=r),r}var q=function(n,e,r){return(n=O(n))[e]=r,n},K={},M=b.registerSubtype=function(n){n.type&&(n=n.type),n.name&&(K[n.name]=n),n.uri&&(K[n.uri]=n)},z=function(n){var e=K[n];if(e)return e;throw Error("Missing type: "+n)};M(require("ot-text-unicode"));var N=function(n,e){return n+e};M({name:"number",apply:N,compose:N,transform:function(n){return n}});var _=function(n){return null==n?null:n.et?z(n.et):n.es?K["text-unicode"]:null!=n.ena?K.number:null},I=function(n){return n.es?n.es:null!=n.ena?n.ena:n.e},L=function(n,e,r){"object"==u(e)&&(e=e.name),"number"===e?n.write("ena",r):"text-unicode"===e?n.write("es",r):(n.write("et",e),n.write("e",r))},V=function(n){m("number"==typeof n),m(n>=0),m(n===(0|n))},F=function(n){"number"==typeof n?V(n):m("string"==typeof n)},R=b.checkValidOp=function(n){if(null!==n){var e=new Set,r=new Set,t=function(n){var t=!0,o=!1;for(var l in n){var i=n[l];if(t=!1,m("p"===l||"r"===l||"d"===l||"i"===l||"e"===l||"es"===l||"ena"===l||"et"===l,"Invalid component item '"+l+"'"),"p"===l)V(i),m(!e.has(i)),e.add(i),m(void 0===n.r);else if("d"===l)V(i),m(!r.has(i)),r.add(i),m(void 0===n.i);else if("e"===l||"es"===l||"ena"===l){m(!o),o=!0;var u=_(n);m(u,"Missing type in edit"),u.checkValidOp&&u.checkValidOp(I(n))}}m(!t)};(function n(e,r,o){if(!Array.isArray(e))throw Error("Op must be null or a list");if(0===e.length)throw Error("Empty descent");r||F(e[0]);for(var l=1,i=0,a=0,f=0;f<e.length;f++){var c=e[f];if(m(null!=c),Array.isArray(c)){var v=n(c,!1,o);if(i){var s=u(a),p=u(v);s===p?m(a<v,"descent keys are not in order"):m("number"===s&&"string"===p)}a=v,i++,l=3}else"object"==u(c)?(m(1===l,"Prev not scalar - instead ".concat(l)),t(c),l=2):(m(3!==l),F(c),l=1)}return m(1!==i),m(2===l||3===l),e[0]})(n,!0,!1),m(e.size===r.size,"Mismatched picks and drops in op");for(var o=0;o<e.size;o++)m(e.has(o)),m(r.has(o))}},U=b.normalize=function(n){var e=0,r=[],t=s();return t.mergeTree(n,function(n,t){var o=_(n);if(o){var l=I(n);L(t,o,o.normalize?o.normalize(l):l)}["r","p","i","d"].forEach(function(o){if(void 0!==n[o]){var l="p"===o||"d"===o?(i=n[o],null==r[i]&&(r[i]=e++),r[i]):n[o];t.write(o,l)}var i})}),t.get()};b.apply=function(n,e){if(f.quiet=!h,R(e),null===e)return n;var r=[];return function n(e,t){var o=e,l=0,i={root:e},a=0,f=i,c="root";function v(){for(;a<l;a++){var n=t[a];"object"!=u(n)&&(f=f[c]=O(f[c]),c=n)}}for(;l<t.length;l++){var s=t[l];if(Array.isArray(s)){var p=n(o,s);p!==o&&void 0!==p&&(v(),o=f[c]=p)}else if("object"==u(s)){null!=s.d?(v(),o=D(f,c,r[s.d])):void 0!==s.i&&(v(),o=D(f,c,s.i));var d=_(s);if(d)v(),o=f[c]=d.apply(o,I(s));else if(void 0!==s.e)throw Error("Subtype "+s.et+" undefined")}else o=null!=o?o[s]:void 0}return i.root}(n=function n(e,t){for(var o=[],l=0;l<t.length;l++){var i=t[l];if(Array.isArray(i))break;"object"!=u(i)&&(o.push(e),e=null==e?void 0:e[i])}for(var a=t.length-1;a>=l;a--)e=n(e,t[a]);for(--l;l>=0;l--){var f=t[l];if("object"!=u(f)){var c=o.pop();e=e===(null==c?void 0:c[f])?c:void 0===e?T(c,f):q(c,f,e)}else k(f)&&(m(void 0!==e,"Cannot pick up or remove undefined"),null!=f.p&&(r[f.p]=e),e=void 0)}return e}(n,e),e)};var B=function(){},H=function(){};b.transformPosition=function(n,e){n=n.slice(),R(e);for(var r,t,o=v(e),l=!1,i=[],u=function(e){var u=n[e],a=o.getComponent();if(a&&(void 0!==a.r?l=!0:null!=a.p&&(l=!1,r=a.p,t=e)),e>=n.length)return"break";var f=0,c=p(o,null,function(n,e){k(e)&&f++});i.unshift(c);var v=c(u);return"number"==typeof u&&(n[e]-=f),v?void 0:"break"},a=0;;a++){if("break"===u(a))break}if(i.forEach(function(n){return n.end()}),l)return null;var f=function(){var e=0,l=function(){var r=n[e],t=w(o),l=_(t);if(l){var i=I(t);return l.transformPosition&&(n[e]=l.transformPosition(n[e],i)),"break"}var u=0,a=p(o,function(n,e){return C(e)?~(n-u):n-u},function(n,e){C(e)&&u++})(r);if("number"==typeof r&&(n[e]+=u),!a)return"break"};for(null!=r&&(e=t,n=o.getPath().concat(n.slice(t)));e<n.length;e++){if("break"===l())break}};return null!=r?o.eachDrop(null,function(n){n===r&&f()}):f(),n};var J=function(n,e,r){"number"==typeof e?(m(Array.isArray(n)),m(e<n.length)):(m(!Array.isArray(n)),m(void 0!==n[e])),void 0===r?"number"==typeof e?n.splice(e,1):delete n[e]:n[e]=r},X=b.compose=function(n,e){if(R(n),R(e),null==n)return e;if(null==e)return n;var r=0,t=v(n),o=v(e),l=s(),i=[],a=[],f=[],c=[],y=[],g=[];t.traverse(null,function(n){null!=n.p&&(f[n.p]=t.clone())}),o.traverse(null,function(n){null!=n.d&&(c[n.d]=o.clone())});var h=s();return function n(e,t,o,l,v,h,b,P){m(t||o);var O=w(t),A=w(o),j=A&&void 0!==A.r,S=O&&void 0!==O.i,E=O?O.d:null,x=A?A.p:null,T=(h||j)&&null==x;if(null!=x)l=c[x],b=a[x]=s();else if(A&&void 0!==A.r)l=null;else{var D=w(l);D&&null!=D.d&&(l=null)}var q,K=w(l);if(null!=E)if(e=f[E],P=i[E]=s(),T)h&&!j&&P.write("r",!0);else{var M=y[E]=r++;b.write("d",M)}else if(O&&void 0!==O.i)e=null;else{var z=w(e);z&&null!=z.p&&(e=null)}S?(m(void 0===v),q=O.i):q=v;var N=(null==x?!S||h||j:void 0===q)?null:b.getComponent();if(null!=x)if(void 0!==v||S);else{var V=null!=E?y[E]:r++;g[x]=V,P.write("p",V)}else j&&(S||void 0!==v||(A.r,P.write("r",A.r)));var F=T?null:_(O),R=_(K);if((F||R)&&(F&&F.name,R&&R.name),F&&R){m(F===R);var U=I(O),B=I(K),H=F.compose(U,B);L(b,F,H)}else F?L(b,F,I(O)):R&&L(b,R,I(K));var X="object"==u(q)&&null!=q,Y=!1,G=0,Q=0,W=0,Z=0,$=0,nn=p(l,function(n,e){return C(e)?Z-n-1:n-Z},function(n,e){C(e)&&Z++}),en=p(e,function(n,e){return k(e)?G-n-1:n-G},function(n,e){k(e)&&G++});if(d(t,o,function(e,r,t){var o,l,i=e,u=e,a=e;if("number"==typeof e){var f=e+W;l=nn(f),u=f+Z;var c=e+Q;o=en(c),C(w(l))&&(o=null),a=e+$,m((i=c+G)>=0,"p1PickKey is negative"),m(u>=0,"p2DropKey is negative");var v=C(w(r)),s=k(w(t));(v||s&&!T)&&$--,v&&Q--,s&&W--}else o=en(e),l=nn(e);P.descend(i),b.descend(u);var p=X&&!C(w(r))?q[a]:void 0,d=n(o,r,t,l,p,T,b,P);X&&!T?p!==d&&(Y||(q=Array.isArray(q)?q.slice():Object.assign({},q),Y=!0),J(q,a,d)):m(void 0===d),b.ascend(),P.ascend()}),en.end(),nn.end(),null!=N)N.i=q;else if(!h&&!j&&null==x)return q}(t,t.clone(),o,o.clone(),void 0,!1,l,h),l.reset(),l.mergeTree(h.get()),l.reset(),l.get(),i.map(function(n){return n.get()}),a.map(function(n){return n.get()}),t.traverse(l,function(n,e){var r=n.p;if(null!=r){var t=y[r];null!=t&&e.write("p",t);var o=i[r];o&&o.get(),o&&e.mergeTree(o.get())}else void 0!==n.r&&e.write("r",n.r)}),l.reset(),l.get(),o.traverse(l,function(n,e){var r=n.d;if(null!=r){var t=g[r];null!=t&&e.write("d",t);var o=a[r];o&&e.mergeTree(o.get())}else void 0!==n.i&&e.write("i",n.i);var l=_(n);l&&!_(e.getComponent())&&L(e,l,I(n))}),l.get()},Y=0,G=1,Q=function n(e){if(null==e)return null;for(var r=e.slice(),t=0;t<e.length;t++)Array.isArray(r[t])&&(r[t]=n(r[t]));return r},W=b.RM_UNEXPECTED_CONTENT=1,Z=b.DROP_COLLISION=2,$=b.BLACKHOLE=3,nn=b.tryTransform=function(n,e,r){m("left"===r||"right"===r,"Direction must be left or right");var t="left"===r?0:1;if(f.quiet=!h,f.prefix=0,null==e)return{ok:!0,result:n};R(n),R(e);var o=null,l=[],i=[],u=[],a=[],c=[],d=[],b=[],P=[],O=[],E=[],T=[],D=[],q=[],K=[],M=[],z=0,N=v(n),V=v(e),F=s();if(function n(e,r,t){var o=w(r);o&&(void 0!==o.r?t=r.clone():null!=o.p&&(t=null,d[o.p]=e.clone()));var l,i=e.getComponent();i&&null!=(l=i.p)&&(c[l]=r?r.clone():null,u[l]=e.clone(),t&&(E[l]=!0,O[l]=t),o&&null!=o.p&&(K[l]=o.p));var a=p(r),f=!0,v=!1,s=void 0;try{for(var y,g=e[Symbol.iterator]();!(f=(y=g.next()).done);f=!0){n(e,a(y.value),t)}}catch(m){v=!0,s=m}finally{try{f||null==g.return||g.return()}finally{if(v)throw s}}a.end()}(V,N,null),function n(e,r,l,i,f){var v,s=l.getComponent(),d=!1;s&&(null!=(v=s.d)?(a[v]=l.clone(),null==M[i]&&(M[i]=[]),M[i].push(v),E[v],e=c[v],r=u[v],E[v]?(f&&(T[v]=!0),f=O[v]):!f||1!==t&&null!=K[v]||null==o&&(o={type:W,op1:A(f.getPath()),op2:j(r.getPath(),l.getPath())}),d=!0):void 0!==s.i&&(e=r=null,d=!0,f&&null==o&&(o={type:W,op1:A(f.getPath()),op2:S(l.getPath(),s.i)})));var y=w(e);y&&(void 0!==y.r?f=e.clone():null!=y.p&&(y.p,i=y.p,f=null));var g=_(s);g&&f&&null==o&&(o={type:W,op1:A(f.getPath()),op2:x(l.getPath(),g,I(s))});var m=0,h=0,b=p(r,function(n,e){return k(e)?m-n-1:n-m},function(n,e){k(e)&&m++}),P=p(e),C=!0,D=!1,q=void 0;try{for(var z,N=l[Symbol.iterator]();!(C=(z=N.next()).done);C=!0){var L=z.value;if("number"==typeof L){var V=L-h,F=b(V);h+=n(P(V+m),F,l,i,f)}else{var R=b(L);n(P(L),R,l,i,f)}}}catch(U){D=!0,q=U}finally{try{C||null==N.return||N.return()}finally{if(D)throw q}}return b.end(),P.end(),d}(N,V,V.clone(),null,null),a.map(function(n){return n&&n.get()}),o)return{ok:!1,conflict:o};T.map(function(n){return!!n});var U=[],B=null;!function n(e,r,o,i,u){var f=!1,c=w(r);if(k(c)){var v=c.p;null!=v?(o=a[v],i=D[v]=s(),f=!0,u=null):(o=null,u=r.clone())}else C(w(o))&&(o=null);var d=e.getComponent();if(d){var y=d.p;null!=y?(P[y]=u,U[y]=u||1===t&&f?null:i.getComponent(),l[y]=e.clone(),o&&(b[y]=o.clone())):void 0!==d.r&&(u||i.write("r",!0),(u||f)&&(null==B&&(B=new Set),B.add(d)))}var g=0,h=0,O=p(r,null,function(n,e){k(e)&&g++});O._name="2pick";var A=p(o,function(n,e){return C(e)?~(n-h):n-h},function(n,e){C(e)&&h++});if(A._name="2drop",e){var j=!0,S=!1,E=void 0;try{for(var x,T=e[Symbol.iterator]();!(j=(x=T.next()).done);j=!0){var q=x.value;if("string"==typeof q){var K=O(q),M=A(q);i.descend(q),n(e,K,M,i,u),i.ascend()}else{var z=O(q),N=q-g,_=k(w(z))?null:A(N),I=N+h;m(I>=0),i.descend(I),n(e,z,_,i,u),i.ascend()}}}catch(L){S=!0,E=L}finally{try{j||null==T.return||T.return()}finally{if(S)throw E}}}O.end(),A.end()}(N,V,V.clone(),F,null),F.reset();var H=[];if(function n(e,f,c,v,h,O){m(f);var T=f.getComponent(),D=w(v),M=!1,N=function(n,e,r){return n?j(n.getPath(),e.getPath()):S(e.getPath(),r.i)};if(C(T)){var V=T.d;null!=V&&(i[V]=f.clone());var F,R=null!=V?U[V]:null,J=!1;if(void 0!==T.i||null!=V&&R)D&&(void 0!==D.i||null!=(F=D.d)&&!E[D.d])&&((J=null!=F?null!=V&&V===K[F]:y(D.i,T.i))||null!=F&&1!==t&&null!=K[F]||null==o&&(o={type:Z,op1:N(null!=V&&l[V],f,T),op2:N(null!=F&&u[F],v,D)})),J||(O?null==o&&(o={type:W,op1:N(null!=V?l[V]:null,f,T),op2:A(O.getPath())}):(null!=V?(H[z]=V,h.write("d",R.p=z++)):h.write("i",g(T.i)),M=!0));else if(null!=V&&!R){var X=P[V];X&&(O=X.clone())}null!=V?(e=l[V],c=d[V],v=b[V]):void 0!==T.i&&(e=c=null,J||(v=null))}else k(w(e))&&(e=c=v=null);var Y=w(e),G=w(c);if(k(G)){var Q=G.p;void 0!==G.r&&(!Y||void 0===Y.r)||E[Q]?(v=null,O=c.clone()):null!=Q&&(v=a[Q],1!==t&&null!=K[Q]||((h=q[Q])||(h=q[Q]=s()),h.reset(),O=null))}else!C(T)&&C(D)&&(v=null);D=null!=v?v.getComponent():null;var $=_(T);if($){var nn=I(T);if(O)null==o&&(o={type:W,op1:x(f.getPath(),$,nn),op2:A(O.getPath())});else{var en,rn=_(D);if(rn){if($!==rn)throw Error("Transforming incompatible types");var tn=I(D);en=$.transform(nn,tn,r)}else en=g(nn);L(h,$,en)}}var on=0,ln=0,un=0,an=0,fn=0,cn=0,vn=null!=e&&e.descendFirst(),sn=vn,pn=p(c,null,function(n,e){k(e)&&un++});pn._name="2p";var dn=null!=v&&v.descendFirst(),yn=dn,gn=!0,mn=!1,hn=void 0;try{for(var bn,wn=f[Symbol.iterator]();!(gn=(bn=wn.next()).done);gn=!0){var Pn=bn.value;if("number"==typeof Pn){for(var On=void 0,kn=C(f.getComponent()),Cn=Pn-ln,An=void 0;vn&&"number"==typeof(An=e.getKey());){An+=on;var jn=e.getComponent(),Sn=k(jn);if(An>Cn||An===Cn&&(!Sn||0===t&&kn))break;if(Sn){on--;var En=jn.p;U[En],K.includes(En),jn.d,w(q[jn.d]),k(w(q[jn.d])),(void 0===jn.r||B&&B.has(jn))&&(null==En||!U[En]||1!==t&&K.includes(En))||fn--}vn=e.nextSibling()}On=vn&&An===Cn?e:null;for(var xn=Cn-on,Tn=pn(xn),Dn=xn-un,qn=null,Kn=void 0,Mn=void 0;dn&&"number"==typeof(Kn=v.getKey());){Mn=Kn-an;var zn=v.getComponent(),Nn=C(zn);if(Mn>Dn)break;if(Mn===Dn){if(!Nn){qn=v;break}if(0===t&&kn){qn=v;break}var _n=Tn&&k(Tn.getComponent());if(0===t&&_n)break}if(Nn){var In=zn.d;E[In],K[In],void 0===zn.i&&(E[In]||null!=K[In]&&1!==t)?(E[In]||null!=K[In]&&0===t)&&(an++,cn--):an++}dn=v.nextSibling()}var Ln=Dn+an+fn+cn;m(Ln>=0,"trying to descend to a negative index"),h.descend(Ln),kn&&(On=Tn=qn=null,ln++),n(On,f,Tn,qn,h,O)&&cn++,h.ascend()}else{for(var Vn=void 0;vn&&("string"!=typeof(Vn=e.getKey())||!(Vn>Pn||Vn===Pn));)vn=e.nextSibling();for(var Fn=vn&&Vn===Pn?e:null,Rn=pn(Pn),Un=void 0;dn&&("string"!=typeof(Un=v.getKey())||!(Un>Pn||Un===Pn));)dn=v.nextSibling();var Bn=dn&&Un===Pn?v:null;h.descend(Pn),n(Fn,f,Rn,Bn,h,O),h.ascend(Pn)}}}catch(Hn){mn=!0,hn=Hn}finally{try{gn||null==wn.return||wn.return()}finally{if(mn)throw hn}}return pn.end(),sn&&e.ascend(),yn&&v.ascend(),M}(N,N.clone(),V,V.clone(),F,null),o)return{ok:!1,conflict:o};F.reset();var J=function(n,e,r){return n.traverse(e,function(e,t){null!=e.d&&r(e.d,n,t)})};(E.length||D.length)&&(J(V,F,function(n,e,r){E[n]&&!T[n]&&r.write("r",!0),D[n]&&r.mergeTree(D[n].get())}),F.reset());var X=[],Y=[];if((q.length||E.length)&&!o){var G=v(Q(F.get()));if(J(G,null,function(n,e){X[n]=e.clone()}),q.forEach(function(n){n&&J(v(n.get()),null,function(n,e){X[n]=e.clone()})}),function n(e,r,t,o,l,i){f.prefix++;var u=w(r);if(k(u))if(null!=u.p){l=u;var a=u.p;X[a].getPath(),t=X[a],o=Y[a]=s()}else void 0!==u.r&&(t=null,i=!0);else C(w(t))&&(t=null);var c=e.getComponent();if(c&&null!=c.d){var d=q[c.d];d&&(d.get(),o.mergeTree(d.get()),t=v(d.get()))}var y=0,g=0,m=p(r,null,function(n,e){k(e)&&y--}),h=p(t,function(n,e){return C(e)?-(n-g)-1:n-g},function(n,e){C(e)&&g++}),b=!0,P=!1,O=void 0;try{for(var A,j=e[Symbol.iterator]();!(b=(A=j.next()).done);b=!0){var S=A.value;if("number"==typeof S){var E=m(S),x=S+y,T=h(x),D=x+g;o.descend(D),n(e,E,T,o,l,i),o.ascend()}else o.descend(S),n(e,m(S),h(S),o,l,i),o.ascend()}}catch(K){P=!0,O=K}finally{try{b||null==j.return||j.return()}finally{if(P)throw O}}m.end(),h.end()}(V,G,G.clone(),F,null,!1),F.reset(),o)return{ok:!1,conflict:o};if(F.get(),Y.length){var nn=Y.map(function(n){return n?n.get():null}),en=v(Q(F.get()));if(J(en,F,function(n,e,r){var t=nn[n];t&&(r.mergeTree(t),nn[n]=null)}),nn.find(function(n){return n})){var rn=s(),tn=s(),on=0,ln=0;nn.forEach(function(n){null!=n&&J(v(n),null,function(n){var e=H[n];rn.writeMove(l[e].getPath(),i[e].getPath(),on++);var r=M[e];r&&r.forEach(function(n){E[n]||1!==t&&null!=K[n]||tn.writeMove(u[n].getPath(),a[n].getPath(),ln++)})})}),o={type:$,op1:rn.get(),op2:tn.get()}}}}return o?{ok:!1,conflict:o}:{ok:!0,result:F.get()}},en=function(n){var e=new Error("Transform detected write conflict");throw e.conflict=n,e.type=e.name="writeConflict",e},rn=b.transform=function(n,e,r){var t=nn(n,e,r),o=t.ok,l=t.result,i=t.conflict;if(o)return l;en(i)},tn=function(n){var e=s();return v(n).traverse(e,function(n,e){(C(n)||_(n))&&e.write("r",!0)}),e.get()},on=function(n,e){var r=n.type,t=n.op1,o=n.op2;switch(r){case Z:return"left"===e?[null,tn(o)]:[tn(t),null];case W:var l=!1;return v(t).traverse(null,function(n){void 0!==n.r&&(l=!0)}),l?[null,tn(o)]:[tn(t),null];case $:return[tn(t),tn(o)];default:throw Error("Unrecognised conflict: "+r)}},ln=function(n){var e=n.type,r=n.op1;return{type:e,op1:n.op2,op2:r}},un=function(n){var e=n.type,r=n.op1,t=n.op2;return{type:e,op1:U(r),op2:U(t)}},an=function(n,e,r,o){for(var l=null;;){var i=nn(e,r,o),u=i.ok,a=i.result,f=i.conflict;if(u)return X(l,a);if(n(f)){var c=t(on(f,o),2),v=c[0],s=c[1];e=X(e,v),r=X(r,s),l=X(l,s)}else en(f)}};b.transformNoConflict=function(n,e,r){return an(function(){return!0},n,e,r)},b.typeAllowingConflictsPred=function(n){return e({},b,{transform:function(e,r,t){return an(n,e,r,t)}})};
},{"./cursor":"YBDT","./deepEqual":"eFk/","./deepClone":"TNQL","ot-text-unicode":"IMP5"}]},{},["iIAs"], null)

window.json1 =  module.exports;

})();